import{_ as x}from"./BIis8gYG.js";import{_ as D}from"./C5ysDvSo.js";import{e as w,c as d,o as _,x as N,a as c,b as u,t as i,w as g,d as S,_ as C,F as $,r as k,i as I,y,j as b,s as V,l as m,z as B}from"./DRZKHVb3.js";import{_ as F,u as z,q as T}from"./BBKw_1Fx.js";import{a as W}from"./BrCEb93e.js";const q={class:"date"},A={class:"category"},E={class:"title"},M={class:"description"},j=w({__name:"CardListItem",props:{news:{},delay:{}},setup(f){const a=e=>"/news/"+e,l=e=>{const n=new Date(e),t=n.getFullYear(),p=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0");return`${t}.${p}.${o}`};return(e,n)=>{const t=D;return _(),d("article",{class:"news-item",style:N({"--delay":e.delay})},[c("div",q,i(l(e.news.date)),1),c("span",A,i(e.news.category),1),c("h3",E,i(e.news.title),1),c("p",M,i(e.news.description),1),u(t,{to:a(e.news.newsId),class:"read-more"},{default:g(()=>n[0]||(n[0]=[S("続きを読む")])),_:1},8,["to"])],4)}}}),R=C(j,[["__scopeId","data-v-50b0319b"]]),U={class:"news-table"},Y=w({__name:"CardList",props:{newsList:{}},setup(f){return(a,l)=>{const e=R;return _(),d("div",U,[(_(!0),d($,null,k(a.newsList,(n,t)=>(_(),d("div",null,[u(e,{news:n,delay:t},null,8,["news","delay"])]))),256))])}}}),G=C(Y,[["__scopeId","data-v-e70cd040"]]),Q=w({__name:"index",async setup(f){let a,l;const{data:e}=([a,l]=I(()=>z("news",()=>T("news").where("draft","=",!0).order("newsId","DESC").all())),a=await a,l(),a),n=y(()=>{var o;return(o=e.value)==null?void 0:o.map(s=>s.category).flat().reduce((s,r)=>(s[r]=(s[r]||0)+1,s),{})}),t=b(null),p=y(()=>{var s;return t.value?((s=e.value)==null?void 0:s.filter(r=>r.category==t.value))??null:e.value});return W({title:"News | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"News | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(o,s)=>{const r=x,L=G,v=F;return _(),V(v,{"max-size":1150},{default:g(()=>[u(r,{modelValue:m(t),"onUpdate:modelValue":s[0]||(s[0]=h=>B(t)?t.value=h:null),tags:m(n)},null,8,["modelValue","tags"]),u(L,{newsList:m(p)},null,8,["newsList"])]),_:1})}}});export{Q as default};
