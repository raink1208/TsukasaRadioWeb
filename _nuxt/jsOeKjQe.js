import{e as v,K as I,L as x,c as l,o as c,a as o,J as g,F as b,h as y,t as m,_ as f,b as u,i as w,k as A,z as C,r as V,q as T,w as D,l as h,M as B}from"./yGcwYD42.js";import{_ as M}from"./L0tyUbry.js";import{_ as q,u as F,q as z}from"./DRX3QW-a.js";import{a as S}from"./MdsZRQLN.js";import"./CNLV3pLA.js";const W={class:"tag-filter"},E=["onClick"],N=v({__name:"TagFilter",props:I({tags:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const t=x(d,"modelValue");return(s,a)=>(c(),l("div",W,[o("button",{class:g({active:t.value===null}),onClick:a[0]||(a[0]=e=>t.value=null)}," 全て表示 ",2),(c(!0),l(b,null,y(s.tags,(e,r)=>(c(),l("button",{key:r,class:g({active:t.value===r}),onClick:p=>t.value=r},m(r)+" ("+m(e)+") ",11,E))),128))]))}}),R=f(N,[["__scopeId","data-v-af231708"]]),U={class:"card"},j={class:"content"},J=["href"],K=["src"],Y={class:"body"},G={class:"title"},H={class:"description"},O={class:"detail-button"},P=v({__name:"CardListItem",props:{archive:{}},setup(d){const t=e=>`http://img.youtube.com/vi/${e}/hqdefault.jpg`,s=e=>`https://www.youtube.com/live/${e}`,a=e=>`/archive/${e}`;return(e,r)=>{const p=w,i=M;return c(),l("div",U,[o("div",j,[o("a",{href:s(e.archive.videoId)},[o("figure",null,[o("img",{src:t(e.archive.videoId),alt:"サムネイル"},null,8,K),u(p,{name:"icon-park-outline:play",class:"play-icon"})])],8,J),o("div",Y,[o("p",G,m(e.archive.title),1),o("p",H,m(e.archive.description),1),o("div",O,[u(i,{to:a(e.archive.archiveId),text:"詳細を見る"},null,8,["to"])])])])])}}}),Q=f(P,[["__scopeId","data-v-8de275db"]]),X={class:"archive-table"},Z=v({__name:"CardList",props:{archiveList:{}},setup(d){return(t,s)=>{const a=Q;return c(),l("div",X,[(c(!0),l(b,null,y(t.archiveList,e=>(c(),l("div",{class:"archive-card",key:e.archiveId},[u(a,{archive:e},null,8,["archive"])]))),128)),s[0]||(s[0]=o("div",{class:"empty archive-card"},null,-1)),s[1]||(s[1]=o("div",{class:"empty archive-card"},null,-1))])}}}),ee=f(Z,[["__scopeId","data-v-520dbda3"]]),re=v({__name:"index",async setup(d){let t,s;const{data:a}=([t,s]=A(()=>F("archive",()=>z("archive").where("draft","=",!0).order("archiveId","DESC").all())),t=await t,s(),t),e=C(()=>{var i;return(i=a.value)==null?void 0:i.map(n=>n.tags).flat().reduce((n,_)=>(n[_]=(n[_]||0)+1,n),{})}),r=V(null),p=C(()=>{var n;const i=r.value;return i?((n=a.value)==null?void 0:n.filter(_=>_.tags.includes(i)))??null:a.value});return S({title:"Archive | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"Archive | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(i,n)=>{const _=R,L=ee,$=q;return c(),T($,{"max-size":1480},{default:D(()=>[u(_,{modelValue:h(r),"onUpdate:modelValue":n[0]||(n[0]=k=>B(r)?r.value=k:null),tags:h(e)},null,8,["modelValue","tags"]),u(L,{archiveList:h(p)},null,8,["archiveList"])]),_:1})}}});export{re as default};
