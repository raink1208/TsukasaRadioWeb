import{e as v,M as k,N as x,c as l,o as i,a,L as g,F as y,r as L,t as m,_ as h,b as u,g as A,i as w,A as C,j as V,s as T,w as D,l as f,O as B}from"./BTuMBMdh.js";import{_ as M}from"./DKl2wbaC.js";import{_ as F,u as q,q as N}from"./Cyr-r-oe.js";import{a as S}from"./Bg8DlmYP.js";import"./Dbupxjkr.js";const W={class:"tag-filter"},j=["onClick"],z=v({__name:"TagFilter",props:k({tags:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const t=x(d,"modelValue");return(s,n)=>(i(),l("div",W,[a("button",{class:g({active:t.value===null}),onClick:n[0]||(n[0]=e=>t.value=null)}," 全て表示 ",2),(i(!0),l(y,null,L(s.tags,(e,r)=>(i(),l("button",{key:r,class:g({active:t.value===r}),onClick:p=>t.value=r},m(r)+" ("+m(e)+") ",11,j))),128))]))}}),E=h(z,[["__scopeId","data-v-6721193a"]]),R={class:"card"},U={class:"content"},O=["href"],Y=["src"],G={class:"body"},H={class:"title"},J={class:"description"},K={class:"detail-button"},P=v({__name:"CardListItem",props:{archive:{}},setup(d){const t=e=>`http://img.youtube.com/vi/${e}/hqdefault.jpg`,s=e=>`https://www.youtube.com/live/${e}`,n=e=>`/archive/${e}`;return(e,r)=>{const p=A,c=M;return i(),l("div",R,[a("div",U,[a("a",{href:s(e.archive.videoId)},[a("figure",null,[a("img",{src:t(e.archive.videoId),alt:"サムネイル"},null,8,Y),u(p,{name:"icon-park-outline:play",class:"play-icon"})])],8,O),a("div",G,[a("p",H,m(e.archive.title),1),a("p",J,m(e.archive.description),1),a("div",K,[u(c,{to:n(e.archive.archiveId),text:"詳細を見る"},null,8,["to"])])])])])}}}),Q=h(P,[["__scopeId","data-v-44e7c091"]]),X={class:"archive-table"},Z=v({__name:"CardList",props:{archiveList:{}},setup(d){return(t,s)=>{const n=Q;return i(),l("div",X,[(i(!0),l(y,null,L(t.archiveList,e=>(i(),l("div",{class:"archive-card",key:e.archiveId},[u(n,{archive:e},null,8,["archive"])]))),128)),s[0]||(s[0]=a("div",{class:"empty archive-card"},null,-1)),s[1]||(s[1]=a("div",{class:"empty archive-card"},null,-1))])}}}),ee=h(Z,[["__scopeId","data-v-fa4da621"]]),te=v({__name:"index",async setup(d){let t,s;const{data:n}=([t,s]=w(()=>q("archive",()=>N("archive").where("draft","=",!0).order("archiveId","DESC").all())),t=await t,s(),t),e=C(()=>{var c;return(c=n.value)==null?void 0:c.map(o=>o.tags).flat().reduce((o,_)=>(o[_]=(o[_]||0)+1,o),{})}),r=V(null),p=C(()=>{var o;const c=r.value;return c?((o=n.value)==null?void 0:o.filter(_=>_.tags.includes(c)))??null:n.value});return S({title:"Archive | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"Archive | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(c,o)=>{const _=E,$=ee,I=F;return i(),T(I,{"max-size":1480},{default:D(()=>[u(_,{modelValue:f(r),"onUpdate:modelValue":o[0]||(o[0]=b=>B(r)?r.value=b:null),tags:f(e),class:"filter"},null,8,["modelValue","tags"]),u($,{archiveList:f(p)},null,8,["archiveList"])]),_:1})}}}),ce=h(te,[["__scopeId","data-v-9d8decc5"]]);export{ce as default};
