import{_ as I}from"./C9FwrLNS.js";import{e as m,c as d,o as l,a as s,b as _,h as x,t as f,_ as v,F as b,r as $,i as k,y as g,j as w,s as A,w as D,l as p,z as T}from"./C_riccNM.js";import{_ as B}from"./CY8YbZc7.js";import{_ as V,u as q,q as F}from"./D4BMeI-j.js";import{a as S}from"./BOgU_bQH.js";import"./BS5xuciO.js";const W={class:"card"},j={class:"content"},z=["href"],E=["src"],N={class:"body"},R={class:"title"},U={class:"description"},M={class:"detail-button"},Y=m({__name:"CardListItem",props:{archive:{}},setup(h){const n=e=>`http://img.youtube.com/vi/${e}/hqdefault.jpg`,o=e=>`https://www.youtube.com/live/${e}`,r=e=>`/archive/${e}`;return(e,c)=>{const u=x,a=B;return l(),d("div",W,[s("div",j,[s("a",{href:o(e.archive.videoId)},[s("figure",null,[s("img",{src:n(e.archive.videoId),alt:"サムネイル"},null,8,E),_(u,{name:"icon-park-outline:play",class:"play-icon"})])],8,z),s("div",N,[s("p",R,f(e.archive.title),1),s("p",U,f(e.archive.description),1),s("div",M,[_(a,{to:r(e.archive.archiveId),text:"詳細を見る"},null,8,["to"])])])])])}}}),G=v(Y,[["__scopeId","data-v-2f6c8105"]]),H={class:"archive-table"},J=m({__name:"CardList",props:{archiveList:{}},setup(h){return(n,o)=>{const r=G;return l(),d("div",H,[(l(!0),d(b,null,$(n.archiveList,e=>(l(),d("div",{class:"archive-card",key:e.archiveId},[_(r,{archive:e},null,8,["archive"])]))),128)),o[0]||(o[0]=s("div",{class:"empty archive-card"},null,-1)),o[1]||(o[1]=s("div",{class:"empty archive-card"},null,-1))])}}}),K=v(J,[["__scopeId","data-v-4495657f"]]),O=m({__name:"index",async setup(h){let n,o;const{data:r}=([n,o]=k(()=>q("archive",()=>F("archive").where("draft","=",!0).order("archiveId","DESC").all())),n=await n,o(),n),e=g(()=>{var a;return(a=r.value)==null?void 0:a.map(t=>t.tags).flat().reduce((t,i)=>(t[i]=(t[i]||0)+1,t),{})}),c=w(null),u=g(()=>{var t;const a=c.value;return a?((t=r.value)==null?void 0:t.filter(i=>i.tags.includes(a)))??null:r.value});return S({title:"Archive | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"Archive | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(a,t)=>{const i=I,y=K,L=V;return l(),A(L,{"max-size":1500},{default:D(()=>[t[1]||(t[1]=s("h1",{class:"title"},"Archive",-1)),_(i,{modelValue:p(c),"onUpdate:modelValue":t[0]||(t[0]=C=>T(c)?c.value=C:null),tags:p(e)},null,8,["modelValue","tags"]),_(y,{archiveList:p(u)},null,8,["archiveList"])]),_:1})}}}),se=v(O,[["__scopeId","data-v-d41064c1"]]);export{se as default};
