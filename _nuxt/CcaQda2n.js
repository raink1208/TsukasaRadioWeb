import{e as v,M as k,N as x,c as l,o as c,a as n,L as g,F as y,r as L,t as m,_ as h,b as u,g as A,i as w,A as C,j as V,s as T,w as D,l as f,O as B}from"./V6gEontb.js";import{_ as M}from"./CJJPWsmx.js";import{_ as F,u as q,q as N}from"./DWGJFlZ2.js";import{a as S}from"./CeB0069Y.js";import"./VLtb-TZH.js";const W={class:"tag-filter"},j=["onClick"],z=v({__name:"TagFilter",props:k({tags:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const t=x(d,"modelValue");return(s,a)=>(c(),l("div",W,[n("button",{class:g({active:t.value===null}),onClick:a[0]||(a[0]=e=>t.value=null)}," 全て表示 ",2),(c(!0),l(y,null,L(s.tags,(e,r)=>(c(),l("button",{key:r,class:g({active:t.value===r}),onClick:p=>t.value=r},m(r)+" ("+m(e)+") ",11,j))),128))]))}}),E=h(z,[["__scopeId","data-v-6721193a"]]),R={class:"card"},U={class:"content"},O=["href"],Y=["src"],G={class:"body"},H={class:"title"},J={class:"description"},K={class:"detail-button"},P=v({__name:"CardListItem",props:{archive:{}},setup(d){const t=e=>`http://img.youtube.com/vi/${e}/hqdefault.jpg`,s=e=>`https://www.youtube.com/live/${e}`,a=e=>`/archive/${e}`;return(e,r)=>{const p=A,i=M;return c(),l("div",R,[n("div",U,[n("a",{href:s(e.archive.videoId)},[n("figure",null,[n("img",{src:t(e.archive.videoId),alt:"サムネイル"},null,8,Y),u(p,{name:"icon-park-outline:play",class:"play-icon"})])],8,O),n("div",G,[n("p",H,m(e.archive.title),1),n("p",J,m(e.archive.description),1),n("div",K,[u(i,{to:a(e.archive.archiveId),text:"詳細を見る"},null,8,["to"])])])])])}}}),Q=h(P,[["__scopeId","data-v-2f6c8105"]]),X={class:"archive-table"},Z=v({__name:"CardList",props:{archiveList:{}},setup(d){return(t,s)=>{const a=Q;return c(),l("div",X,[(c(!0),l(y,null,L(t.archiveList,e=>(c(),l("div",{class:"archive-card",key:e.archiveId},[u(a,{archive:e},null,8,["archive"])]))),128)),s[0]||(s[0]=n("div",{class:"empty archive-card"},null,-1)),s[1]||(s[1]=n("div",{class:"empty archive-card"},null,-1))])}}}),ee=h(Z,[["__scopeId","data-v-4495657f"]]),te=v({__name:"index",async setup(d){let t,s;const{data:a}=([t,s]=w(()=>q("archive",()=>N("archive").where("draft","=",!0).order("archiveId","DESC").all())),t=await t,s(),t),e=C(()=>{var i;return(i=a.value)==null?void 0:i.map(o=>o.tags).flat().reduce((o,_)=>(o[_]=(o[_]||0)+1,o),{})}),r=V(null),p=C(()=>{var o;const i=r.value;return i?((o=a.value)==null?void 0:o.filter(_=>_.tags.includes(i)))??null:a.value});return S({title:"Archive | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"Archive | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(i,o)=>{const _=E,$=ee,I=F;return c(),T(I,{"max-size":1500},{default:D(()=>[u(_,{modelValue:f(r),"onUpdate:modelValue":o[0]||(o[0]=b=>B(r)?r.value=b:null),tags:f(e),class:"filter"},null,8,["modelValue","tags"]),u($,{archiveList:f(p)},null,8,["archiveList"])]),_:1})}}}),ie=h(te,[["__scopeId","data-v-27d4f0ec"]]);export{ie as default};
