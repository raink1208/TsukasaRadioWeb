import{_ as N}from"./B3IgAteN.js";import{_ as h}from"./B4NMYRLa.js";import{e as w,c as d,o as i,x as D,a as _,b as u,t as c,w as C,d as I,_ as f,F as S,r as $,i as b,y as g,j as k,s as V,l as m,z as B}from"./CodHR4I5.js";import{_ as F,u as z,q as T}from"./Dz7BWWi9.js";import{a as W}from"./D61WJ3C1.js";const q={class:"date"},A={class:"category"},E={class:"title"},M={class:"description"},j=w({__name:"CardListItem",props:{news:{},delay:{}},setup(y){const a=e=>"/news/"+e,l=e=>{const n=new Date(e),s=n.getFullYear(),p=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0");return`${s}.${p}.${o}`};return(e,n)=>{const s=h;return i(),d("article",{class:"news-item",style:D({"--delay":e.delay})},[_("div",q,c(l(e.news.date)),1),_("span",A,c(e.news.category),1),_("h3",E,c(e.news.title),1),_("p",M,c(e.news.description),1),u(s,{to:a(e.news.newsId),class:"read-more"},{default:C(()=>n[0]||(n[0]=[I("続きを読む")])),_:1},8,["to"])],4)}}}),R=f(j,[["__scopeId","data-v-50b0319b"]]),U={class:"news-table"},Y=w({__name:"CardList",props:{newsList:{}},setup(y){return(a,l)=>{const e=R;return i(),d("div",U,[(i(!0),d(S,null,$(a.newsList,(n,s)=>(i(),d("div",null,[u(e,{news:n,delay:s},null,8,["news","delay"])]))),256))])}}}),G=f(Y,[["__scopeId","data-v-e70cd040"]]),H=w({__name:"index",async setup(y){let a,l;const{data:e}=([a,l]=b(()=>z("news",()=>T("news").where("draft","=",!0).order("newsId","DESC").all())),a=await a,l(),a),n=g(()=>{var o;return(o=e.value)==null?void 0:o.map(t=>t.category).flat().reduce((t,r)=>(t[r]=(t[r]||0)+1,t),{})}),s=k(null),p=g(()=>{var t;return s.value?((t=e.value)==null?void 0:t.filter(r=>r.category==s.value))??null:e.value});return W({title:"News | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"News | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(o,t)=>{const r=N,v=G,L=F;return i(),V(L,{"max-size":1150},{default:C(()=>[t[1]||(t[1]=_("h1",{class:"title"},"News",-1)),u(r,{modelValue:m(s),"onUpdate:modelValue":t[0]||(t[0]=x=>B(s)?s.value=x:null),tags:m(n)},null,8,["modelValue","tags"]),u(v,{newsList:m(p)},null,8,["newsList"])]),_:1})}}}),X=f(H,[["__scopeId","data-v-2249b041"]]);export{X as default};
