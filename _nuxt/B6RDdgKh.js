import{_ as I}from"./DYVdKYNo.js";import{e as m,c as _,o as l,a as t,b as d,i as b,t as v,_ as p,F as C,r as k,l as w,y as h,j as A,h as $,w as D,u,M as T}from"#entry";import{_ as V,u as B,q}from"./V8GHhX7_.js";import{a as F}from"./_EsipHj-.js";const S={class:"card"},W={class:"content"},j=["href"],E=["src"],M={class:"body"},N={class:"title"},z={class:"description"},R=m({__name:"CardListItem",props:{archive:{}},setup(o){const r=e=>`http://img.youtube.com/vi/${e}/hqdefault.jpg`,s=e=>`https://www.youtube.com/live/${e}`;return(e,i)=>{const c=b;return l(),_("div",S,[t("div",W,[t("a",{href:s(o.archive.videoId)},[t("figure",null,[t("img",{src:r(o.archive.videoId),alt:"サムネイル"},null,8,E),d(c,{name:"icon-park-outline:play",class:"play-icon"})])],8,j),t("div",M,[t("p",N,v(o.archive.title),1),t("p",z,v(o.archive.description),1)])])])}}}),U=p(R,[["__scopeId","data-v-1d2d743b"]]),Y={class:"archive-table"},G=m({__name:"CardList",props:{archiveList:{}},setup(o){return(r,s)=>{const e=U;return l(),_("div",Y,[(l(!0),_(C,null,k(o.archiveList,i=>(l(),_("div",{class:"archive-card",key:i.archiveId},[d(e,{archive:i},null,8,["archive"])]))),128)),s[0]||(s[0]=t("div",{class:"empty archive-card"},null,-1)),s[1]||(s[1]=t("div",{class:"empty archive-card"},null,-1))])}}}),H=p(G,[["__scopeId","data-v-4495657f"]]),J=m({__name:"index",async setup(o){let r,s;const{data:e}=([r,s]=w(()=>B("archive",()=>q("archive").where("draft","=",!0).order("archiveId","DESC").all())),r=await r,s(),r),i=h(()=>e.value?.map(a=>a.tags).flat().reduce((a,n)=>(a[n]=(a[n]||0)+1,a),{})),c=A(null),f=h(()=>{const a=c.value;return a?e.value?.filter(n=>n.tags.includes(a))??null:e.value});return F({title:"Archive | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"Archive | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(a,n)=>{const g=I,x=H,y=V;return l(),$(y,{"max-size":1500},{default:D(()=>[n[1]||(n[1]=t("h1",{class:"title"},"Archive",-1)),d(g,{modelValue:u(c),"onUpdate:modelValue":n[0]||(n[0]=L=>T(c)?c.value=L:null),tags:u(i)},null,8,["modelValue","tags"]),d(x,{archiveList:u(f)},null,8,["archiveList"])]),_:1})}}}),X=p(J,[["__scopeId","data-v-d41064c1"]]);export{X as default};
