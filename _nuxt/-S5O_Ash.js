import{e as v,K as b,L as x,c as l,o as i,a,J as g,F as C,h as L,t as m,_ as h,b as u,i as w,k as A,y,r as V,q as T,w as D,l as f,M as B}from"./Crl9ZHS6.js";import{_ as M}from"./CMEwzn7p.js";import{_ as q,u as F,q as S}from"./C9E9JwOV.js";import{a as W}from"./kgaBORbv.js";import"./Bu-xSInl.js";const z={class:"tag-filter"},E=["onClick"],N=v({__name:"TagFilter",props:b({tags:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const t=x(d,"modelValue");return(s,n)=>(i(),l("div",z,[a("button",{class:g({active:t.value===null}),onClick:n[0]||(n[0]=e=>t.value=null)}," 全て表示 ",2),(i(!0),l(C,null,L(s.tags,(e,r)=>(i(),l("button",{key:r,class:g({active:t.value===r}),onClick:p=>t.value=r},m(r)+" ("+m(e)+") ",11,E))),128))]))}}),R=h(N,[["__scopeId","data-v-6721193a"]]),U={class:"card"},j={class:"content"},J=["href"],K=["src"],Y={class:"body"},G={class:"title"},H={class:"description"},O={class:"detail-button"},P=v({__name:"CardListItem",props:{archive:{}},setup(d){const t=e=>`http://img.youtube.com/vi/${e}/hqdefault.jpg`,s=e=>`https://www.youtube.com/live/${e}`,n=e=>`/archive/${e}`;return(e,r)=>{const p=w,c=M;return i(),l("div",U,[a("div",j,[a("a",{href:s(e.archive.videoId)},[a("figure",null,[a("img",{src:t(e.archive.videoId),alt:"サムネイル"},null,8,K),u(p,{name:"icon-park-outline:play",class:"play-icon"})])],8,J),a("div",Y,[a("p",G,m(e.archive.title),1),a("p",H,m(e.archive.description),1),a("div",O,[u(c,{to:n(e.archive.archiveId),text:"詳細を見る"},null,8,["to"])])])])])}}}),Q=h(P,[["__scopeId","data-v-44e7c091"]]),X={class:"archive-table"},Z=v({__name:"CardList",props:{archiveList:{}},setup(d){return(t,s)=>{const n=Q;return i(),l("div",X,[(i(!0),l(C,null,L(t.archiveList,e=>(i(),l("div",{class:"archive-card",key:e.archiveId},[u(n,{archive:e},null,8,["archive"])]))),128)),s[0]||(s[0]=a("div",{class:"empty archive-card"},null,-1)),s[1]||(s[1]=a("div",{class:"empty archive-card"},null,-1))])}}}),ee=h(Z,[["__scopeId","data-v-fa4da621"]]),te=v({__name:"index",async setup(d){let t,s;const{data:n}=([t,s]=A(()=>F("archive",()=>S("archive").where("draft","=",!0).order("archiveId","DESC").all())),t=await t,s(),t),e=y(()=>{var c;return(c=n.value)==null?void 0:c.map(o=>o.tags).flat().reduce((o,_)=>(o[_]=(o[_]||0)+1,o),{})}),r=V(null),p=y(()=>{var o;const c=r.value;return c?((o=n.value)==null?void 0:o.filter(_=>_.tags.includes(c)))??null:n.value});return W({title:"Archive | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"Archive | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(c,o)=>{const _=R,$=ee,k=q;return i(),T(k,{"max-size":1480},{default:D(()=>[u(_,{modelValue:f(r),"onUpdate:modelValue":o[0]||(o[0]=I=>B(r)?r.value=I:null),tags:f(e),class:"filter"},null,8,["modelValue","tags"]),u($,{archiveList:f(p)},null,8,["archiveList"])]),_:1})}}}),ce=h(te,[["__scopeId","data-v-9d8decc5"]]);export{ce as default};
