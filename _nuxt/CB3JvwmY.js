import{_ as h}from"./CvLLgyM6.js";import{_ as D}from"./kLEgzL4x.js";import{e as w,c as d,o as _,x as N,a as c,b as u,t as i,w as C,d as I,_ as f,F as S,r as $,i as b,y as g,j as k,s as V,l as m,z as B}from"./CQsxoprZ.js";import{_ as F,u as z,q as T}from"./C45jESRQ.js";import{a as W}from"./BAx2Aet9.js";const q={class:"date"},A={class:"category"},E={class:"title"},M={class:"description"},j=w({__name:"CardListItem",props:{news:{},delay:{}},setup(y){const a=e=>"/news/"+e,l=e=>{const n=new Date(e),t=n.getFullYear(),p=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0");return`${t}.${p}.${o}`};return(e,n)=>{const t=D;return _(),d("article",{class:"news-item",style:N({"--delay":e.delay})},[c("div",q,i(l(e.news.date)),1),c("span",A,i(e.news.category),1),c("h3",E,i(e.news.title),1),c("p",M,i(e.news.description),1),u(t,{to:a(e.news.newsId),class:"read-more"},{default:C(()=>n[0]||(n[0]=[I("続きを読む")])),_:1},8,["to"])],4)}}}),R=f(j,[["__scopeId","data-v-50b0319b"]]),U={class:"news-table"},Y=w({__name:"CardList",props:{newsList:{}},setup(y){return(a,l)=>{const e=R;return _(),d("div",U,[(_(!0),d(S,null,$(a.newsList,(n,t)=>(_(),d("div",null,[u(e,{news:n,delay:t},null,8,["news","delay"])]))),256))])}}}),G=f(Y,[["__scopeId","data-v-e70cd040"]]),H=w({__name:"index",async setup(y){let a,l;const{data:e}=([a,l]=b(()=>z("news",()=>T("news").where("draft","=",!0).order("newsId","DESC").all())),a=await a,l(),a),n=g(()=>{var o;return(o=e.value)==null?void 0:o.map(s=>s.category).flat().reduce((s,r)=>(s[r]=(s[r]||0)+1,s),{})}),t=k(null),p=g(()=>{var s;return t.value?((s=e.value)==null?void 0:s.filter(r=>r.category==t.value))??null:e.value});return W({title:"News | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"News | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(o,s)=>{const r=h,v=G,L=F;return _(),V(L,{"max-size":1150},{default:C(()=>[u(r,{modelValue:m(t),"onUpdate:modelValue":s[0]||(s[0]=x=>B(t)?t.value=x:null),tags:m(n),class:"filter"},null,8,["modelValue","tags"]),u(v,{newsList:m(p)},null,8,["newsList"])]),_:1})}}}),X=f(H,[["__scopeId","data-v-88a2abe3"]]);export{X as default};
