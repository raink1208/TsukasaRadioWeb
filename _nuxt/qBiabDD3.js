import{_ as h}from"./DYVdKYNo.js";import{_ as N}from"./CwBAJpNI.js";import{e as w,c as d,o as i,L as D,a as c,b as u,t as _,w as g,d as I,_ as f,F as S,r as $,l as b,y,j as k,h as V,u as p,M as B}from"#entry";import{_ as F,u as M,q as T}from"./V8GHhX7_.js";import{a as W}from"./_EsipHj-.js";const q={class:"date"},z={class:"category"},A={class:"title"},E={class:"description"},j=w({__name:"CardListItem",props:{news:{},delay:{}},setup(n){const r=t=>"/news/"+t,l=t=>{const s=new Date(t),e=s.getFullYear(),m=String(s.getMonth()+1).padStart(2,"0"),a=String(s.getDate()).padStart(2,"0");return`${e}.${m}.${a}`};return(t,s)=>{const e=N;return i(),d("article",{class:"news-item",style:D({"--delay":n.delay})},[c("div",q,_(l(n.news.date)),1),c("span",z,_(n.news.category),1),c("h3",A,_(n.news.title),1),c("p",E,_(n.news.description),1),u(e,{to:r(n.news.newsId),class:"read-more"},{default:g(()=>[...s[0]||(s[0]=[I("続きを読む",-1)])]),_:1},8,["to"])],4)}}}),R=f(j,[["__scopeId","data-v-50b0319b"]]),U={class:"news-table"},Y=w({__name:"CardList",props:{newsList:{}},setup(n){return(r,l)=>{const t=R;return i(),d("div",U,[(i(!0),d(S,null,$(n.newsList,(s,e)=>(i(),d("div",null,[u(t,{news:s,delay:e},null,8,["news","delay"])]))),256))])}}}),G=f(Y,[["__scopeId","data-v-e70cd040"]]),H=w({__name:"index",async setup(n){let r,l;const{data:t}=([r,l]=b(()=>M("news",()=>T("news").where("draft","=",!0).order("newsId","DESC").all())),r=await r,l(),r),s=y(()=>t.value?.map(a=>a.category).flat().reduce((a,o)=>(a[o]=(a[o]||0)+1,a),{})),e=k(null),m=y(()=>e.value?t.value?.filter(o=>o.category==e.value)??null:t.value);return W({title:"News | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"News | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(a,o)=>{const x=h,C=G,L=F;return i(),V(L,{"max-size":1150},{default:g(()=>[o[1]||(o[1]=c("h1",{class:"title"},"News",-1)),u(x,{modelValue:p(e),"onUpdate:modelValue":o[0]||(o[0]=v=>B(e)?e.value=v:null),tags:p(s)},null,8,["modelValue","tags"]),u(C,{newsList:p(m)},null,8,["newsList"])]),_:1})}}}),X=f(H,[["__scopeId","data-v-2249b041"]]);export{X as default};
