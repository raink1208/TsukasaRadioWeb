import{_ as C}from"./BIis8gYG.js";import{e as m,c as u,o as _,a as s,b as l,g as I,t as f,_ as v,F as x,r as $,i as k,y as g,j as w,s as A,w as D,l as p,z as T}from"./DRZKHVb3.js";import{_ as B}from"./B9SvG4zU.js";import{_ as V,u as q,q as F}from"./BBKw_1Fx.js";import{a as S}from"./BrCEb93e.js";import"./C5ysDvSo.js";const W={class:"card"},j={class:"content"},z=["href"],E=["src"],N={class:"body"},R={class:"title"},U={class:"description"},M={class:"detail-button"},Y=m({__name:"CardListItem",props:{archive:{}},setup(h){const n=e=>`http://img.youtube.com/vi/${e}/hqdefault.jpg`,o=e=>`https://www.youtube.com/live/${e}`,r=e=>`/archive/${e}`;return(e,c)=>{const d=I,a=B;return _(),u("div",W,[s("div",j,[s("a",{href:o(e.archive.videoId)},[s("figure",null,[s("img",{src:n(e.archive.videoId),alt:"サムネイル"},null,8,E),l(d,{name:"icon-park-outline:play",class:"play-icon"})])],8,z),s("div",N,[s("p",R,f(e.archive.title),1),s("p",U,f(e.archive.description),1),s("div",M,[l(a,{to:r(e.archive.archiveId),text:"詳細を見る"},null,8,["to"])])])])])}}}),G=v(Y,[["__scopeId","data-v-2f6c8105"]]),H={class:"archive-table"},J=m({__name:"CardList",props:{archiveList:{}},setup(h){return(n,o)=>{const r=G;return _(),u("div",H,[(_(!0),u(x,null,$(n.archiveList,e=>(_(),u("div",{class:"archive-card",key:e.archiveId},[l(r,{archive:e},null,8,["archive"])]))),128)),o[0]||(o[0]=s("div",{class:"empty archive-card"},null,-1)),o[1]||(o[1]=s("div",{class:"empty archive-card"},null,-1))])}}}),K=v(J,[["__scopeId","data-v-4495657f"]]),O=m({__name:"index",async setup(h){let n,o;const{data:r}=([n,o]=k(()=>q("archive",()=>F("archive").where("draft","=",!0).order("archiveId","DESC").all())),n=await n,o(),n),e=g(()=>{var a;return(a=r.value)==null?void 0:a.map(t=>t.tags).flat().reduce((t,i)=>(t[i]=(t[i]||0)+1,t),{})}),c=w(null),d=g(()=>{var t;const a=c.value;return a?((t=r.value)==null?void 0:t.filter(i=>i.tags.includes(a)))??null:r.value});return S({title:"Archive | 領国つかさの深夜通信-Dark Web-",description:"",ogTitle:"Archive | 領国つかさの深夜通信-Dark Web-",ogDescription:""}),(a,t)=>{const i=C,y=K,L=V;return _(),A(L,{"max-size":1500},{default:D(()=>[l(i,{modelValue:p(c),"onUpdate:modelValue":t[0]||(t[0]=b=>T(c)?c.value=b:null),tags:p(e),class:"filter"},null,8,["modelValue","tags"]),l(y,{archiveList:p(d)},null,8,["archiveList"])]),_:1})}}}),se=v(O,[["__scopeId","data-v-b169353b"]]);export{se as default};
