import{aE as e,au as t,av as a,aF as r,aD as i}from"../nitro/nitro.mjs";import{v as l,g as u,h as o,r as n,f as s,n as v,i as d}from"./server.mjs";function defineNuxtLink(r){const i=r.componentName||"NuxtLink";function isHashLinkWithoutHashMode(e){return"string"==typeof e&&e.startsWith("#")}function resolveTrailingSlashBehavior(e,t){if(!e||"append"!==r.trailingSlash&&"remove"!==r.trailingSlash)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,r.trailingSlash);const a="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(a,r.trailingSlash)}}function useNuxtLink(e){const r=u(),i=s(),o=l.computed((()=>!!e.target&&"_self"!==e.target)),d=l.computed((()=>{const a=e.to||e.href||"";return"string"==typeof a&&t(a,{acceptRelative:!0})})),c=l.resolveComponent("RouterLink"),p=c&&"string"!=typeof c?c.useLink:void 0,f=l.computed((()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||d.value)})),h=l.computed((()=>{const t=e.to||e.href||"";return f.value?t:resolveTrailingSlashBehavior(t,r.resolve)})),g=f.value||null==p?void 0:p({...e,to:h}),m=l.computed((()=>{var e;if(!h.value||d.value||isHashLinkWithoutHashMode(h.value))return h.value;if(f.value){const e="object"==typeof h.value&&"path"in h.value?n(h.value):h.value;return resolveTrailingSlashBehavior("object"==typeof e?r.resolve(e).href:e,r.resolve)}return"object"==typeof h.value?(null==(e=r.resolve(h.value))?void 0:e.href)??null:resolveTrailingSlashBehavior(a(i.app.baseURL,h.value),r.resolve)}));return{to:h,hasTarget:o,isAbsoluteUrl:d,isExternal:f,href:m,isActive:(null==g?void 0:g.isActive)??l.computed((()=>h.value===r.currentRoute.value.path)),isExactActive:(null==g?void 0:g.isExactActive)??l.computed((()=>h.value===r.currentRoute.value.path)),route:(null==g?void 0:g.route)??l.computed((()=>r.resolve(h.value))),async navigate(t){await v(m.value,{replace:e.replace,external:f.value||o.value})}}}return l.defineComponent({name:i,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:useNuxtLink,setup(t,{slots:a}){u();const{to:i,href:n,navigate:s,isExternal:v,hasTarget:d,isAbsoluteUrl:c}=useNuxtLink(t);l.ref(!1);async function prefetch(e=o()){}return()=>{var u;if(!v.value&&!d.value&&!isHashLinkWithoutHashMode(i.value)){const e={ref:undefined,to:i.value,activeClass:t.activeClass||r.activeClass,exactActiveClass:t.exactActiveClass||r.exactActiveClass,replace:t.replace,ariaCurrentValue:t.ariaCurrentValue,custom:t.custom};return t.custom||(e.rel=t.rel||void 0),l.h(l.resolveComponent("RouterLink"),e,a.default)}const o=t.target||null,p=((...e)=>e.find((e=>void 0!==e)))(t.noRel?"":t.rel,r.externalRelAttribute,c.value||d.value?"noopener noreferrer":"")||null;return t.custom?a.default?a.default({href:n.value,navigate:s,prefetch:prefetch,get route(){if(!n.value)return;const t=new URL(n.value,"http://localhost");return{path:t.pathname,fullPath:t.pathname,get query(){return e(t.search)},hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:n.value}},rel:p,target:o,isExternal:v.value||d.value,isActive:!1,isExactActive:!1}):null:l.h("a",{ref:undefined,href:n.value||null,rel:p,target:o},null==(u=a.default)?void 0:u.call(a))}}})}const c=defineNuxtLink(d);function applyTrailingSlashBehavior(e,a){const l="append"===a?r:i;return t(e)&&!e.startsWith("http")?e:l(e,!0)}export{c as _};
//# sourceMappingURL=nuxt-link.mjs.map
